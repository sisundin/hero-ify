{"ast":null,"code":"import React from \"react\";\nimport { heroApiENDPOINT, HeroApiAccessToken, firebaseConfig } from \"./apiConfig\";\nimport firebase from \"firebase\";\n\nclass HeroIfyModel extends React.Component {\n  constructor() {\n    super();\n    this.subscribers = [];\n    this.playlistAttributes = {\n      userID: \"\",\n      genres: [],\n      pepLevel: \"\"\n    };\n    this.firebase = new firebase.initializeApp(firebaseConfig);\n    this.db = this.firebase.firestore();\n  }\n\n  addObserver(callback) {\n    this.subscribers.push(callback);\n  }\n\n  removeObserver(callback) {\n    callback = this.subscribers.filter(o => o !== callback);\n  }\n\n  notifyObservers(whatHappened) {\n    this.subscribers.forEach(function (callback) {\n      callback(whatHappened);\n    });\n  }\n\n  getHeroData(string) {\n    return fetch(heroApiENDPOINT + HeroApiAccessToken + string, {\n      \"method\": \"GET\"\n    }).then(response => this.handleHTTPError(response)).then(response => response.json()).catch(error => console.log(error));\n  }\n\n  handleHTTPError(response) {\n    if (response.ok) return response;\n    throw Error(response.statusText);\n  }\n\n  searchHero(name) {\n    return this.getHeroData(\"search/\" + name);\n  }\n\n  getHeroStats(id) {\n    let herostats = this.getHeroData(id + \"/powerstats\");\n    let image = this.getHeroData(id + \"/image\");\n    let stats = {\n      \"powerstats\": herostats,\n      \"image\": image\n    };\n    return stats;\n  }\n\n  heroGenres(powerstats) {\n    powerstats = {\n      \"intelligence\": \"81\",\n      \"strength\": \"40\",\n      \"speed\": \"29\",\n      \"durability\": \"55\",\n      \"power\": \"63\",\n      \"combat\": \"90\"\n    };\n    let allstats = powerstats.intelligence + powerstats.strength + powerstats.speed + powerstats.durability + powerstats.combat;\n    let genres = {\n      \"classical\": powerstats.intelligence / allstats,\n      \"punk\": powerstats.strength / allstats,\n      \"pop\": powerstats.speed / allstats,\n      \"lowfy beats\": powerstats.durability / allstats,\n      \"electronic dance\": powerstats.power / allstats,\n      \"hip hop\": powerstats.combat / allstats\n    };\n    return genres;\n  } //getPlaylists NEEDS RENDER PROMIS\n\n\n  getOthersPlaylistsfromdatabase() {\n    let scoreboard = [];\n    this.db.collection(\"created playlists\").orderBy(\"score\", \"desc\").limit(10).get().then(snapshot => {\n      snapshot.forEach(doc => {\n        scoreboard.push({\n          \"Hero\": doc.Hero,\n          \"PlaylistLink\": doc.PlaylistLink,\n          \"User\": doc.User\n        });\n      });\n    });\n  } //add a playlist to firebase\n\n\n  addYourplaylistToDatabase(heroname, playlistlink, user) {\n    this.db.collection(\"created playlists\").doc().set({\n      Hero: heroname,\n      PlaylistLink: playlistlink,\n      User: user\n    });\n  } //spotify playlist function\n\n\n  spotifyApiConnect() {} //generates a link to create spotify playlist from\n\n\n  generateSpotifyPlaylist() {}\n\n}\n\nconst heroifyModel = new HeroIfyModel();\nexport default heroifyModel;","map":{"version":3,"sources":["C:/Users/johne/Desktop/IPROG/projekt/SPOTIFY-API-INTRO/my-app/src/modelandconfig/model.js"],"names":["React","heroApiENDPOINT","HeroApiAccessToken","firebaseConfig","firebase","HeroIfyModel","Component","constructor","subscribers","playlistAttributes","userID","genres","pepLevel","initializeApp","db","firestore","addObserver","callback","push","removeObserver","filter","o","notifyObservers","whatHappened","forEach","getHeroData","string","fetch","then","response","handleHTTPError","json","catch","error","console","log","ok","Error","statusText","searchHero","name","getHeroStats","id","herostats","image","stats","heroGenres","powerstats","allstats","intelligence","strength","speed","durability","combat","power","getOthersPlaylistsfromdatabase","scoreboard","collection","orderBy","limit","get","snapshot","doc","Hero","PlaylistLink","User","addYourplaylistToDatabase","heroname","playlistlink","user","set","spotifyApiConnect","generateSpotifyPlaylist","heroifyModel"],"mappings":"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","sourcesContent":["import React  from \"react\";\r\nimport {heroApiENDPOINT, HeroApiAccessToken, firebaseConfig} from \"./apiConfig\"\r\nimport firebase from \"firebase\";\r\n\r\nclass HeroIfyModel extends React.Component{\r\n    constructor(){\r\n        super();\r\n        \r\n        this.subscribers=[];\r\n        this.playlistAttributes = {userID:\"\", genres: [], pepLevel:\"\" }\r\n        this.firebase = new firebase.initializeApp(firebaseConfig);\r\n        this.db = this.firebase.firestore();\r\n        }\r\n        \r\n    addObserver(callback){\r\n        this.subscribers.push(callback);\r\n }\r\n\r\n    removeObserver (callback) {\r\n    callback = this.subscribers.filter(o => o !== callback);\r\n    };\r\n   \r\n    notifyObservers(whatHappened){\r\n        this.subscribers.forEach(function(callback){ \r\n            callback(whatHappened);\r\n       });\r\n    }\r\n       \r\n    getHeroData(string) {\r\n        return fetch ( heroApiENDPOINT+HeroApiAccessToken+string, {\r\n            \"method\": \"GET\"              \r\n\r\n    }).then(response => this.handleHTTPError(response))\r\n        .then(response => response.json())\r\n        .catch(error => console.log(error));\r\n         \r\n    }\r\n\r\n    handleHTTPError(response) {\r\n        if(response.ok)\r\n           return response;\r\n        throw Error(response.statusText);\r\n      }\r\n\r\n    searchHero(name){\r\n        return this.getHeroData(\"search/\"+name)\r\n    }\r\n\r\n    getHeroStats(id){\r\n        let herostats = this.getHeroData(id + \"/powerstats\");\r\n        let image = this.getHeroData(id+\"/image\");\r\n        let stats = {\"powerstats\" : herostats, \"image\": image };\r\n        return stats\r\n    }\r\n\r\n    heroGenres(powerstats){\r\n        powerstats = {\"intelligence\":\"81\",\"strength\":\"40\",\"speed\":\"29\",\"durability\":\"55\",\"power\":\"63\",\"combat\":\"90\"};\r\n        let allstats = powerstats.intelligence + powerstats.strength + powerstats.speed + powerstats.durability + powerstats.combat;\r\n        let genres = { \"classical\": powerstats.intelligence/allstats, \"punk\":powerstats.strength/allstats, \"pop\": powerstats.speed/allstats , \"lowfy beats\": powerstats.durability/allstats, \"electronic dance\": powerstats.power/allstats, \"hip hop\": powerstats.combat/allstats};\r\n        return genres;\r\n    }\r\n\r\n    //getPlaylists NEEDS RENDER PROMIS\r\n    getOthersPlaylistsfromdatabase(){\r\n        let scoreboard = []\r\n        this.db.collection(\"created playlists\").orderBy(\"score\", \"desc\").limit(10).get().then((snapshot) => {\r\n            snapshot.forEach((doc) => {\r\n                scoreboard.push({\"Hero\": doc.Hero , \"PlaylistLink\": doc.PlaylistLink , \"User\": doc.User})\r\n            })\r\n        });\r\n    }\r\n\r\n    //add a playlist to firebase\r\n    addYourplaylistToDatabase(heroname, playlistlink, user){\r\n        this.db.collection(\"created playlists\").doc().set({\r\n            Hero: heroname,\r\n            PlaylistLink: playlistlink,\r\n            User: user\r\n            \r\n    });\r\n}\r\n    \r\n   //spotify playlist function\r\n    spotifyApiConnect(){\r\n\r\n    }\r\n    //generates a link to create spotify playlist from\r\n    generateSpotifyPlaylist(){\r\n\r\n    }\r\n    \r\n}\r\n\r\nconst heroifyModel = new HeroIfyModel();\r\nexport default heroifyModel;"]},"metadata":{},"sourceType":"module"}